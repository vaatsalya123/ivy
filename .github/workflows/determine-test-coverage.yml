name: determine-test-coverage
on:
  workflow_dispatch:
permissions:
  actions: read
jobs:
   run_tests:
     runs-on: ubuntu-latest
     steps:
#       - name: Checkout Ivy ðŸ›Ž
#         uses: actions/checkout@v2
#         with:
#           path: ivy
#           persist-credentials: false
#           submodules: "recursive"

#       - name: Determine Test Coverage
#         run: |
#           pip install pydriller tqdm
#           cd ivy
#           python determine_test_coverage.py
#           cd ..
#           mkdir tests
#           cp ivy/tests.pkl tests/

       - name: Temp
         run: |
           mkdir tests
           cd tests
           echo "Hello" > tests.pkl

       - name: Push Mapping
         uses: cpina/github-action-push-to-another-repository@main
         env:
           SSH_DEPLOY_KEY: ${{ secrets.SSH_DEPLOY_KEY }}
         with:
           source-directory: tests/
           destination-github-username: 'unifyai'
           destination-repository-name: 'Mapping'
           user-email: rashul.chutani@gmail.com
           commit-message: Testing
           target-branch: master

#       - name: Run Functional-Core Tests
#         id: tests
#         if: steps.check_file_changed.outputs.changed == 'True' || steps.check_file_changed.conclusion == 'skipped'
#         run: |
#           cd ivy
#           ./run_tests_CLI/test_ivy_core.sh ${{ matrix.backends }} test_${{ matrix.submodules }} ${{ secrets.REDIS_CONNECTION_URL }} ${{ secrets.REDIS_PASSWORD}}
#         continue-on-error: true
